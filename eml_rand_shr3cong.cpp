//
// Sponsored License - for use in support of a program or activity
// sponsored by MathWorks.  Not for government, commercial or other
// non-sponsored organizational use.
// File: eml_rand_shr3cong.cpp
//
// MATLAB Coder version            : 5.1
// C/C++ source code generated on  : 05-May-2021 19:10:07
//

// Include Files
#include "eml_rand_shr3cong.h"
#include <cmath>

// Function Definitions
//
// Arguments    : unsigned int e_state[2]
// Return Type  : double
//
namespace coder
{
  double eml_rand_shr3cong(unsigned int e_state[2])
  {
    static const double dv[65] = { 0.340945, 0.4573146, 0.5397793, 0.6062427,
      0.6631691, 0.7136975, 0.7596125, 0.8020356, 0.8417227, 0.8792102,
      0.9148948, 0.9490791, 0.9820005, 1.0138492, 1.044781, 1.0749254, 1.1043917,
      1.1332738, 1.161653, 1.189601, 1.2171815, 1.2444516, 1.2714635, 1.298265,
      1.3249008, 1.3514125, 1.3778399, 1.4042211, 1.4305929, 1.4569915,
      1.4834527, 1.5100122, 1.5367061, 1.5635712, 1.5906454, 1.617968, 1.6455802,
      1.6735255, 1.7018503, 1.7306045, 1.7598422, 1.7896223, 1.8200099, 1.851077,
      1.8829044, 1.9155831, 1.9492166, 1.9839239, 2.0198431, 2.0571356, 2.095993,
      2.136645, 2.1793713, 2.2245175, 2.2725186, 2.3239338, 2.3795008, 2.4402218,
      2.5075117, 2.5834658, 2.6713916, 2.7769942, 2.7769942, 2.7769942,
      2.7769942 };

    double r;
    double x;
    double y;
    unsigned int icng;
    int j;
    unsigned int jsr;
    unsigned int ui;

    //@>1727e
    icng                               //@>1727d
      =                                //@>172a1
      69069U                           //@>1e019
      *                                //@>1adf0
      e_state                          //@>24b26
      [                                //@>1adf4
      0]                               //@>17293
      +                                //@>172a2
      1234567U;

    //@>17280
    jsr                                //@>1727f
      =                                //@>1ae10
      e_state                          //@>24b29
      [                                //@>1ae14
      1]                               //@>1e016
      ^                                //@>1ae2f
      e_state                          //@>24b2c
      [                                //@>1ae33
      1]                               //@>1e017
      <<                               //@>1fd5c
      13;

    //@>17282
    jsr                                //@>27dba
      ^=                               //@>17285
      jsr                              //@>17298
      >>                               //@>17303
      17;

    //@>17288
    jsr                                //@>27dbb
      ^=                               //@>1728b
      jsr                              //@>1e014
      <<                               //@>1fd5e
      5;

    //@>1728e
    ui                                 //@>1728d
      =                                //@>1728f
      icng                             //@>1729b
      +                                //@>17291
      jsr;

    //@>17193
    j                                  //@>17192
      = static_cast<int>((             //@>1734f
                          ui           //@>1e012
                          &            //@>17350
                          63U)         //@>17209
                         +             //@>1727a
                         1U);

    //@>17195
    r                                  //@>17194
      = static_cast<double>(static_cast<int>(//@>17353
      ui))                             //@>1e009
      *                                //@>17305
      4.6566128730773926E-10           //@>1e005
      *                                //@>1ae52
      dv                               //@>24b2f
      [                                //@>1ae57
      j];

    //@>172fe
    x                                  //@>172fd
      =                                //@>23b34
      std::abs(                        //@>1732c
               r);

    //@>1e4aa
    y                                  //@>1e4ac
      =                                //@>1ae71
      dv                               //@>24b32
      [                                //@>1ae77
      j                                //@>1ae75
      -                                //@>1ae78
      1];

    //@>17254
    if (!                              //@<2314f
        (                              //@>1727b
         x                             //@>17212
         <=                            //@>1e4ae
         y)) {
      double s;

      //@>1719c
      x                                //@>1719b
        = (                            //@>1732e
           x                           //@>17217
           - y)                        //@>1721e
        / (                            //@>1aeb0
           dv                          //@>24b35
           [                           //@>1aeb5
           j]                          //@>1721d
           - y);

      //@>172a4
      icng                             //@>172a3
        =                              //@>172bf
        69069U                         //@>1e000
        *                              //@>17330
        icng                           //@>172b3
        +                              //@>172c0
        1234567U;

      //@>172a6
      jsr                              //@>27dc1
        ^=                             //@>17334
        jsr                            //@>1dffe
        <<                             //@>1fd60
        13;

      //@>172a8
      jsr                              //@>27dc2
        ^=                             //@>172ab
        jsr                            //@>172b8
        >>                             //@>17307
        17;

      //@>172ae
      jsr                              //@>27dc3
        ^=                             //@>172b1
        jsr                            //@>1dffb
        <<                             //@>1fd62
        5;

      //@>171a4
      y                                //@>171a3
        = static_cast<double>(static_cast<int>(//@>1735f
        icng                           //@>1735d
        +                              //@>17361
        jsr))                          //@>1dff3
        *                              //@>17309
        2.328306436538696E-10          //@>17221
        +                              //@>171a5
        0.5;

      //@>171a7
      s                                //@>171a6
        =                              //@>171a8
        x                              //@>17222
        +                              //@>171aa
        y;

      //@>1725b
      if (                             //@>171ac
          s                            //@>17223
          >                            //@>1730a
          1.301198) {
        //@>231cb
        if (                           //@>171ae
            r                          //@>17224
            <                          //@>171b0
            0.0) {
          //@>231cf
          r                            //@>231ce
            =                          //@>17310
            0.4878992                  //@>1dfeb
            *                          //@>171b2
            x                          //@>17226
            -                          //@>17311
            0.4878992;
        } else {
          //@>22db4
          r                            //@>22db3
            =                          //@>1730f
            0.4878992                  //@>17228
            -                          //@>1730e
            0.4878992                  //@>1dfef
            *                          //@>171b5
            x;
        }
      } else {
        //@>17260
        if (!                          //@<23150
            (                          //@>171b7
             s                         //@>17229
             <=                        //@>1730b
             0.9689279)) {
          //@>171bd
          x                            //@>171bc
            =                          //@>1730d
            0.4878992                  //@>1722b
            -                          //@>1730c
            0.4878992                  //@>1dfe7
            *                          //@>171be
            x;

          //@>17263
          if (                         //@>171c0
              y                        //@>17231
              >                        //@>17314
              12.67706                 //@>17230
              -                        //@>17313
              12.37586                 //@>1dfdb
              *                        //@>23b36
              std::exp(                //@>17312
                       -0.5            //@>1dfe3
                       *               //@>171c2
                       x               //@>1dfdf
                       *               //@>171c4
                       x)) {
            //@>231d0
            if (                       //@>171c6
                r                      //@>17232
                <                      //@>171c8
                0.0) {
              //@>231d4
              r                        //@>231d3
                = -                    //@<1dfd8
              //@>171ca
                x;
            } else {
              //@>22db9
              r                        //@>22db8
                =                      //@>171cd
                x;
            }
          } else {
            //@>17268
            if (!                      //@<23151
                (                      //@>23b38
                 std::exp(             //@>17370
                          -0.5         //@>1dfca
                          *            //@>1af00
                          dv           //@>24b38
                          [            //@>1af05
                          j]           //@>1dfc6
                          *            //@>1af1d
                          dv           //@>24b3b
                          [            //@>1af22
                          j])          //@>17237
                 +                     //@>171cf
                 y                     //@>1dfce
                 *                     //@>17315
                 0.01958303            //@>17236
                 /                     //@>1af3a
                 dv                    //@>24b3e
                 [                     //@>1af3f
                 j]                    //@>1723b
                 <=                    //@>23b3a
                 std::exp(             //@>17316
                          -0.5         //@>1dfd6
                          *            //@>171d1
                          r            //@>1dfd2
                          *            //@>171d3
                          r))) {
              do                       //@<1726e
              {
                //@>172c2
                icng                   //@>172c1
                  =                    //@>172dd
                  69069U               //@>1dfc1
                  *                    //@>17336
                  icng                 //@>172d1
                  +                    //@>172de
                  1234567U;

                //@>172c4
                jsr                    //@>27dc6
                  ^=                   //@>1733a
                  jsr                  //@>1dfbf
                  <<                   //@>1fd64
                  13;

                //@>172c6
                jsr                    //@>27dc7
                  ^=                   //@>172c9
                  jsr                  //@>172d6
                  >>                   //@>17318
                  17;

                //@>172cc
                jsr                    //@>27dc8
                  ^=                   //@>172cf
                  jsr                  //@>1dfbc
                  <<                   //@>1fd66
                  5;

                //@>171d9
                x                      //@>171d8
                  =                    //@>23b3c
                  std::log(static_cast<double>(static_cast<int>(//@>17364
                  icng                 //@>17362
                  +                    //@>17366
                  jsr))                //@>1dfb4
                           *           //@>1731a
                           2.328306436538696E-10//@>1723f
                           +           //@>171da
                           0.5)        //@>17241
                  /                    //@>17240
                  2.776994;

                //@>172e0
                icng                   //@>172df
                  =                    //@>172fb
                  69069U               //@>1dfaf
                  *                    //@>1733c
                  icng                 //@>172ef
                  +                    //@>172fc
                  1234567U;

                //@>172e2
                jsr                    //@>27dcb
                  ^=                   //@>17340
                  jsr                  //@>1dfad
                  <<                   //@>1fd68
                  13;

                //@>172e4
                jsr                    //@>27dcc
                  ^=                   //@>172e7
                  jsr                  //@>172f4
                  >>                   //@>1731c
                  17;

                //@>172ea
                jsr                    //@>27dcd
                  ^=                   //@>172ed
                  jsr                  //@>1dfaa
                  <<                   //@>1fd6a
                  5;
              } while (!(              //@>1731f
                         -2.0          //@>1df9a
                         *             //@>23b3e
                         std::log(static_cast<double>(static_cast<int>(//@>17369
                icng                   //@>17367
                +                      //@>1736b
                jsr))                  //@>1df9e
                                  *    //@>1731e
                                  2.328306436538696E-10//@>17245
                                  +    //@>171dd
                                  0.5) //@>17248
                         >             //@>171de
                         x             //@>1dfa7
                         *             //@>171e0
                         x));

              //@>231d5
              if (                     //@>171e2
                  r                    //@>17249
                  <                    //@>171e4
                  0.0) {
                //@>231d9
                r                      //@>231d8
                  =                    //@>171e6
                  x                    //@>1724a
                  -                    //@>17321
                  2.776994;
              } else {
                //@>22dbe
                r                      //@>22dbd
                  =                    //@>17320
                  2.776994             //@>1724b
                  -                    //@>171e9
                  x;
              }
            }
          }
        }
      }
    }

    //@>171ec
    e_state                            //@>1724c
      [                                //@>1724d
      0]                               //@>171eb
      =                                //@>171ed
      icng;

    //@>171f0
    e_state                            //@>1724e
      [                                //@>1724f
      1]                               //@>171ef
      =                                //@>171f1
      jsr;
    return r;
  }
}

//
// File trailer for eml_rand_shr3cong.cpp
//
// [EOF]
//
